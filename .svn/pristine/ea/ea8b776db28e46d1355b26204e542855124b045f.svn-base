<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lanou.mapper.FactoryMapper">
	<resultMap id="BaseResultMap" type="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		<id column="FACTORY_ID" jdbcType="VARCHAR" property="factoryId" />
		<result column="FULL_NAME" jdbcType="VARCHAR" property="fullName" />
		<result column="FACTORY_NAME" jdbcType="VARCHAR" property="factoryName" />
		<result column="CONTACTS" jdbcType="VARCHAR" property="contacts" />
		<result column="PHONE" jdbcType="VARCHAR" property="phone" />
		<result column="MOBILE" jdbcType="VARCHAR" property="mobile" />
		<result column="FAX" jdbcType="VARCHAR" property="fax" />
		<result column="CNOTE" jdbcType="VARCHAR" property="cnote" />
		<result column="INSPECTOR" jdbcType="VARCHAR" property="inspector" />
		<result column="ORDER_NO" jdbcType="DECIMAL" property="orderNo" />
		<result column="STATE" jdbcType="CHAR" property="state" />
		<result column="CREATE_BY" jdbcType="VARCHAR" property="createBy" />
		<result column="CREATE_DEPT" jdbcType="VARCHAR" property="createDept" />
		<result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		FACTORY_ID, FULL_NAME, FACTORY_NAME, CONTACTS, PHONE, MOBILE, FAX,
		CNOTE, INSPECTOR,
		ORDER_NO, STATE, CREATE_BY, CREATE_DEPT, CREATE_TIME
	</sql>
	<select id="selectByPrimaryKey" parameterType="java.lang.String"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		select
		<include refid="Base_Column_List" />
		from FACTORY_C
		where FACTORY_ID = #{factoryId,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		delete from FACTORY_C
		where FACTORY_ID = #{factoryId,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		insert into FACTORY_C (FACTORY_ID, FULL_NAME, FACTORY_NAME,
		CONTACTS,
		PHONE, MOBILE,
		FAX, CNOTE, INSPECTOR,
		ORDER_NO, STATE, CREATE_BY,
		CREATE_DEPT, CREATE_TIME)
		values (#{factoryId,jdbcType=VARCHAR},
		#{fullName,jdbcType=VARCHAR},
		#{factoryName,jdbcType=VARCHAR},
		#{contacts,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR},
		#{mobile,jdbcType=VARCHAR},
		#{fax,jdbcType=VARCHAR},
		#{cnote,jdbcType=VARCHAR},
		#{inspector,jdbcType=VARCHAR},
		#{orderNo,jdbcType=DECIMAL}, #{state,jdbcType=CHAR},
		#{createBy,jdbcType=VARCHAR},
		#{createDept,jdbcType=VARCHAR},
		#{createTime,jdbcType=TIMESTAMP})
	</insert>
	<insert id="insertSelective" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->

		<selectKey keyProperty="factoryId" resultType="java.lang.String"
			order="BEFORE">
			select sys_guid() from dual
		</selectKey>
		insert into FACTORY_C
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="factoryId != null">
				FACTORY_ID,
			</if>
			<if test="fullName != null">
				FULL_NAME,
			</if>
			<if test="factoryName != null">
				FACTORY_NAME,
			</if>
			<if test="contacts != null">
				CONTACTS,
			</if>
			<if test="phone != null">
				PHONE,
			</if>
			<if test="mobile != null">
				MOBILE,
			</if>
			<if test="fax != null">
				FAX,
			</if>
			<if test="cnote != null">
				CNOTE,
			</if>
			<if test="inspector != null">
				INSPECTOR,
			</if>
			<if test="orderNo != null">
				ORDER_NO,
			</if>
			<if test="state != null">
				STATE,
			</if>
			<if test="createBy != null">
				CREATE_BY,
			</if>
			<if test="createDept != null">
				CREATE_DEPT,
			</if>
			<if test="createTime != null">
				CREATE_TIME,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="factoryId != null">
				#{factoryId,jdbcType=VARCHAR},
			</if>
			<if test="fullName != null">
				#{fullName,jdbcType=VARCHAR},
			</if>
			<if test="factoryName != null">
				#{factoryName,jdbcType=VARCHAR},
			</if>
			<if test="contacts != null">
				#{contacts,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				#{phone,jdbcType=VARCHAR},
			</if>
			<if test="mobile != null">
				#{mobile,jdbcType=VARCHAR},
			</if>
			<if test="fax != null">
				#{fax,jdbcType=VARCHAR},
			</if>
			<if test="cnote != null">
				#{cnote,jdbcType=VARCHAR},
			</if>
			<if test="inspector != null">
				#{inspector,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				#{orderNo,jdbcType=DECIMAL},
			</if>
			<if test="state != null">
				#{state,jdbcType=CHAR},
			</if>
			<if test="createBy != null">
				#{createBy,jdbcType=VARCHAR},
			</if>
			<if test="createDept != null">
				#{createDept,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		update FACTORY_C
		<set>
			<if test="fullName != null">
				FULL_NAME = #{fullName,jdbcType=VARCHAR},
			</if>
			<if test="factoryName != null">
				FACTORY_NAME = #{factoryName,jdbcType=VARCHAR},
			</if>
			<if test="contacts != null">
				CONTACTS = #{contacts,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				PHONE = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="mobile != null">
				MOBILE = #{mobile,jdbcType=VARCHAR},
			</if>
			<if test="fax != null">
				FAX = #{fax,jdbcType=VARCHAR},
			</if>
			<if test="cnote != null">
				CNOTE = #{cnote,jdbcType=VARCHAR},
			</if>
			<if test="inspector != null">
				INSPECTOR = #{inspector,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				ORDER_NO = #{orderNo,jdbcType=DECIMAL},
			</if>
			<if test="state != null">
				STATE = #{state,jdbcType=CHAR},
			</if>
			<if test="createBy != null">
				CREATE_BY = #{createBy,jdbcType=VARCHAR},
			</if>
			<if test="createDept != null">
				CREATE_DEPT = #{createDept,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where FACTORY_ID = #{factoryId,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:49:59 CST 2018. -->
		update FACTORY_C
		set FULL_NAME = #{fullName,jdbcType=VARCHAR},
		FACTORY_NAME = #{factoryName,jdbcType=VARCHAR},
		CONTACTS =
		#{contacts,jdbcType=VARCHAR},
		PHONE = #{phone,jdbcType=VARCHAR},
		MOBILE
		= #{mobile,jdbcType=VARCHAR},
		FAX = #{fax,jdbcType=VARCHAR},
		CNOTE =
		#{cnote,jdbcType=VARCHAR},
		INSPECTOR = #{inspector,jdbcType=VARCHAR},
		ORDER_NO = #{orderNo,jdbcType=DECIMAL},
		STATE = #{state,jdbcType=CHAR},
		CREATE_BY = #{createBy,jdbcType=VARCHAR},
		CREATE_DEPT =
		#{createDept,jdbcType=VARCHAR},
		CREATE_TIME =
		#{createTime,jdbcType=TIMESTAMP}
		where FACTORY_ID =
		#{factoryId,jdbcType=VARCHAR}
	</update>

	<!-- ********************************************************************************* -->
	<select id="selectPageByFactory" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select * from (
		select * from (
		select t1.* from (
		select rownum rn ,
		t.factory_id ,
		t.full_name,t.factory_name,t.contacts,t.phone,t.mobile,t.fax,t.cnote,
		t.inspector from FACTORY_C t where 1=1
		<if test="fullName!=null and fullName!=''">
			and t.full_name like concat(concat('%',#{fullName}),'%')
		</if>
		<if test="factoryName!=null and factoryName!=''">
			and t.factory_name like
			concat(concat('%',#{factoryName}),'%')
		</if>
		<if test="contacts!=null and contacts!=''">
			and t.contacts like concat(concat('%',#{contacts}),'%')
		</if>
		<if test="phone!=null and phone!=''">
			and t.phone like concat(concat('%',#{phone}),'%')
		</if>
		<if test="mobile!=null and mobile!=''">
			and t.mobile like concat(concat('%',#{mobile}),'%')
		</if>
		<if test="fax!=null and fax!=''">
			and t.fax like concat(concat('%',#{fax}),'%')
		</if>
		<if test="cnote!=null and cnote!=''">
			and t.cnote like concat(concat('%',#{cnote}),'%')
		</if>

		) t1 where t1.rn <![CDATA[ >= ]]>
		#{start}
		) t2 where t2.rn <![CDATA[ <= ]]>
		#{end}
		) t3
		order by rownum asc


	</select>

	<select id="selectPageCount" parameterType="java.util.Map"
		resultType="java.lang.Integer">
		select count(t3.factory_id) from FACTORY_C t3
		where 1=1
		<if test="fullName!=null and fullName!=''">
			and t3.full_name like concat(concat('%',#{fullName}),'%')
		</if>
		<if test="factoryName!=null and factoryName!=''">
			and t3.factory_name like
			concat(concat('%',#{factoryName}),'%')
		</if>
		<if test="contacts!=null and contacts!=''">
			and t3.contacts like concat(concat('%',#{contacts}),'%')
		</if>
		<if test="phone!=null and phone!=''">
			and t3.phone like concat(concat('%',#{phone}),'%')
		</if>
		<if test="mobile!=null and mobile!=''">
			and t3.mobile like concat(concat('%',#{mobile}),'%')
		</if>
		<if test="fax!=null and fax!=''">
			and t3.fax like concat(concat('%',#{fax}),'%')
		</if>
		<if test="cnote!=null and cnote!=''">
			and t3.cnote like concat(concat('%',#{cnote}),'%')
		</if>


	</select>

	<!-- ***************************************汪立坤********************************* -->
<select id="selectAll" resultMap="BaseResultMap">
 select f.factory_id,f.factory_name,f.full_name from FACTORY_C f  order by f.create_time
</select>


	<!-- ********************************************************************************* -->




	<!-- *************************************王梓旭************************************** -->

	<!-- ********************************************************************************* -->


	<!-- *************************************李方************************************** -->

	<!-- ********************************************************************************* -->

</mapper>